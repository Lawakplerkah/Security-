{
  "update": [
    {
      "path": "plugins/ai/tofigure.js",
      "code": "/* CODE LAIN CHEK\nhttps://whatsapp.com/channel/0029VbARSvBCMY0PDV53rt0m\nJANGAN LUPA FOLLOW\n*/\n\n/* CODE LAIN CHEK\nhttps://whatsapp.com/channel/0029VbARSvBCMY0PDV53rt0m\nJANGAN LUPA FOLLOW\n*/\n\n// CREATE BY REZA DEVS KUROMI\nlet fetch = require(\\\"node-fetch\\\");\nlet FormData = require(\\\"form-data\\\");\nlet { fromBuffer } = require(\\\"file-type\\\");\nlet axios = require(\\\"axios\\\");\n\nexports.run = {\n    usage: [\\\"tofigure\\\", \\\"stylefigure\\\"],\n    hidden: [\\\"tfigure\\\"],\n    use: \\\"command + kirim gambar / reply gambar\\\",\n    category: \\\"ai\\\",\n\n    async: async (m, { kuromi, quoted }) => {\n        try {\n            if (!quoted || !/image/.test(quoted.mime))\n                return m.reply(\\\"Reply gambar atau kirim gambar dengan command.\\\");\n\n            kuromi.sendReact(m.chat, \\\"ðŸ•’\\\", m.key);\n\n            // ===============================\n            // DOWNLOAD IMAGE\n            // ===============================\n            let buffer = await quoted.download();\n            if (!buffer) throw \\\"Gagal download gambar.\\\";\n\n            let type = await fromBuffer(buffer);\n            let ext = type?.ext || \\\"jpg\\\";\n\n            // ===============================\n            // UPLOAD KE CATBOX\n            // ===============================\n            let form = new FormData();\n            form.append(\\\"fileToUpload\\\", buffer, \\\"file.\\\" + ext);\n            form.append(\\\"reqtype\\\", \\\"fileupload\\\");\n\n            let imageUrl = await (\n                await fetch(\\\"https://catbox.moe/user/api.php\\\", {\n                    method: \\\"POST\\\",\n                    body: form\n                })\n            ).text();\n\n            if (!/^https?:\\/\\//.test(imageUrl))\n                throw \\\"Gagal upload ke catbox.\\\";\n\n            // ===============================\n            // CALL API NEKOLABS (POST JSON)\n            // ===============================\n            let { data } = await axios.post(\n                \\\"https://api.nekolabs.web.id/style-changer/figure\\\",\n                { imageUrl },\n                { headers: { \\\"Content-Type\\\": \\\"application/json\\\" }, timeout: 120000 }\n            );\n\n            if (!data || !data.success || !data.result)\n                throw \\\"API gagal memproses gambar.\\\";\n\n            // ===============================\n            // SEND RESULT\n            // ===============================\n            await kuromi.sendMessage(\n                m.chat,\n                {\n                    image: { url: data.result },\n                    caption:\n                        `âœ¨ *To Figure Success*\\n` +\n                        `â± ${data.responseTime || \\\"-\\\"}`\n                },\n                { quoted: m }\n            );\n\n            kuromi.sendReact(m.chat, \\\"âœ…\\\", m.key);\n\n        } catch (e) {\n            console.error(e);\n            kuromi.sendReact(m.chat, \\\"âŒ\\\", m.key);\n            m.reply(\\\"âŒ Gagal convert ke figure.\\\");\n        }\n    },\n\n    location: \\\"plugins/ai/tofigure.js\\\"\n};",
      "time": "2025-12-16 16:09:40"
    },
    {
      "path": "plugins/convert/stickermeme.js",
      "code": "/* CODE LAIN CHEK\nhttps://whatsapp.com/channel/0029VbARSvBCMY0PDV53rt0m\nJANGAN LUPA FOLLOW\n*/\n\n// CREATE BY REZA DEVS KUROMI (UPDATED NEKOLABS)\n\nconst axios = require(\\\"axios\\\");\nconst FormData = require(\\\"form-data\\\");\nconst { fromBuffer } = require(\\\"file-type\\\");\n\n// ===============================\n// UPLOAD IMAGE KE TMPFILES\n// ===============================\nasync function uploadTmp(buffer) {\n    const { ext, mime } = await fromBuffer(buffer) || {};\n    const form = new FormData();\n\n    form.append(\\\"file\\\", buffer, {\n        filename: `image.${ext}`,\n        contentType: mime\n    });\n\n    const res = await axios.post(\n        \\\"https://tmpfiles.org/api/v1/upload\\\",\n        form,\n        { headers: form.getHeaders() }\n    );\n\n    return \\\"https://tmpfiles.org/dl/\\\" +\n        res.data.data.url.split(\\\"tmpfiles.org/\\\")[1];\n}\n\nexports.run = {\n    usage: [\\\"stickermeme\\\"],\n    hidden: [\\\"smeme\\\"],\n    use: \\\"text atas | text bawah\\\",\n    category: \\\"convert\\\",\n    limit: 5,\n    restrict: true,\n    location: \\\"plugins/convert/stickermeme.js\\\",\n\n    async: async (m, { kuromi, quoted, func, packname, author }) => {\n\n        if (!m.text)\n            return m.reply(func.example(m.cmd, \\\"Malas | Menanggapi\\\"));\n\n        if (m.text.length > 75)\n            return m.reply(\\\"Text terlalu panjang.\\\");\n\n        let textT = \\\"-\\\";\n        let textB = \\\"\\\";\n\n        if (m.text.includes(\\\"|\\\")) {\n            let split = m.text.split(\\\"|\\\");\n            textT = split[0]?.trim() || \\\"-\\\";\n            textB = split[1]?.trim() || \\\"\\\";\n        } else {\n            textT = m.text.trim();\n        }\n\n        if (!quoted || !/image\\/(jpe?g|png|webp)/.test(quoted.mime))\n            return m.reply(`Kirim atau reply gambar dengan caption:\\n${m.cmd} text atas | text bawah`);\n\n        if (quoted.mime.includes(\\\"webp\\\") && quoted.isAnimated)\n            return m.reply(\\\"Sticker GIF tidak didukung.\\\");\n\n        kuromi.sendReact(m.chat, \\\"ðŸ•’\\\", m.key);\n\n        // ===============================\n        // DOWNLOAD & UPLOAD IMAGE\n        // ===============================\n        const buffer = await quoted.download();\n        const imageUrl = await uploadTmp(buffer);\n\n        // ===============================\n        // REQUEST KE NEKOLABS\n        // ===============================\n        const meme = await axios.post(\n            \\\"https://api.nekolabs.web.id/canvas/meme\\\",\n            {\n                imageUrl,\n                textT,\n                textB\n            },\n            {\n                responseType: \\\"arraybuffer\\\",\n                headers: {\n                    \\\"Content-Type\\\": \\\"application/json\\\"\n                }\n            }\n        );\n\n        // ===============================\n        // KIRIM STICKER\n        // ===============================\n        await kuromi.sendSticker(\n            m.chat,\n            meme.data,\n            m,\n            {\n                packname,\n                author,\n                expiration: m.expiration\n            }\n        );\n    }\n};",
      "time": "2025-12-17 11:14:16"
    }
  ],
  "remove": [],
  "version": "1.13"
}